{% extends 'others/layout.html' %}
{% block stylesheet %}
<link rel="stylesheet" href="{{url_for('static', filename='css/completePost.min.css')}}">
{% endblock stylesheet %}

{% block body %}
<main class="complete--post--container">


    <article>

        <div class="post__header">

            <div class="post__author__container">

                <div class="post__author__img__wrapper">
                    <a href="{{url_for('user_profile',user_id=post.author.id)}}" class="img__link" title='Post Author'>
                        <img src="{{url_for('static',filename='user-images/'+post.author.profile_pic)}}" alt="">
                    </a>
                </div>

                <div class="post__author__name__container">
                    <div>
                        <a href="{{url_for('user_profile',user_id=post.author.id)}}" class="author__name" title='Post Author'>{{post.author.firstname}}</a>
                        {% if post.author == current_user %}
                        <p class="current__user">You</p>
                        {% endif %}
                    </div>

                    <span>{{post.postDate.strftime('%d/%m/%Y')}}</span>
                </div>

            </div>

            {% if post.author == current_user %}
            <div class="post__related__btn__links__container">

                <button class="sideNavShowBtn">
                    <i class="fas fa-ellipsis-v"></i>
                </button>
                
                <div class="post__related__btn__links">
                
                    <button class="sideNavHideBtn">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    <a href="{{url_for('edit_post',post_id=post.id)}}" title='Edit Post'>
                        <i class="fas fa-edit"></i>
                        <span>Edit Post</span>
                    </a>

                    <a href="{{url_for('delete_post',post_id=post.id)}}" title='Delete Post'>
                        <i class="fas fa-trash"></i>
                        <span>Delete Post</span>
                    </a>

                </div>

            </div>
            {% endif %}

        </div>

        <div class="post__body">

            <div class="post__content__container">
                <p>
                    {{post.content}}
                </p>
            </div>

            {% if post.postImage %}
            <div class="post__image__container">
                <img src="{{url_for('static',filename='user-images/'+post.postImage)}}" alt="Post Image">
            </div>
            {% endif %}

        </div>

        <div class="post__footer">

            {% if current_user.has_liked(post) %}
            <button class="heart__btn heart__btn__active" data-postid = {{post.id}}>
                <i class="fas fa-heart"></i>

            {% else %}   
            <button class="heart__btn" data-postid = {{post.id}}>
                <i class="far fa-heart"></i>
            {% endif %}

                <span style="color:rgb(63, 61, 79)">{{post.likes.count()}}</span>
            </button>

            <a href="" class="comment__btn" title='Comment'>
                <i class="fas fa-comment-alt"></i>
                <span>10</span>
            </a>

        </div>

    </article>


</main>
<!-- _________________________________________ -->

{% endblock body %}

{% block script %}
<script src="{{url_for('static',filename='js/home.js')}}"></script>
{% endblock script %}
