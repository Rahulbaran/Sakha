{"version":3,"sources":["userProfile.js"],"names":["followBtn","document","querySelector","followersBtn","addEventListener","e","preventDefault","fetch","headers","method","body","JSON","stringify","user_id","Number","this","dataset","userid","then","res","json","textContent","heartBtns","querySelectorAll","totalHearts","heartIcons","forEach","heartBtn","index","postId","postid","post_id","classList","toggle"],"mappings":"AAGA,MAAMA,UAAYC,SAASC,cAAc,gBACnCC,aAAeF,SAASC,cAAc,mBAGzCF,WAECA,UAAUI,iBAAiB,SAAQ,SAASC,GACxCA,EAAEC,iBAEFC,MAAM,iBAAkB,CACpBC,QAAU,CACN,eAAiB,oBAErBC,OAAS,OACTC,KAAOC,KAAKC,UAAW,CACnBC,QAAWC,OAAOC,KAAKC,QAAQC,YAGtCC,MAAKC,GAAOA,EAAIC,SAAQF,MAAKC,IAC1BJ,KAAKM,YAAeF,EAAY,OAAIA,EAAY,OAAIA,EAAc,SAClEhB,aAAakB,YAAc,GAAGF,EAAe,4BAWzD,MAAMG,UAAYrB,SAASsB,iBAAiB,eACtCC,YAAcvB,SAASsB,iBAAiB,oBACxCE,WAAaxB,SAASsB,iBAAiB,iBAEzCD,WAEAA,UAAUI,SAAQ,CAACC,EAAUC,KACzBD,EAASvB,iBAAiB,SAASC,IAC/BA,EAAEC,iBACF,MAAMuB,EAASf,OAAOa,EAASX,QAAQc,QAEvCvB,MAAM,eAAgB,CAClBC,QAAU,CACN,eAAe,oBAEnBC,OAAS,OACTC,KAAOC,KAAKC,UAAU,CAClBmB,QAAUF,MAGjBX,MAAKC,GAAOA,EAAIC,SAAQF,MAAKC,IAC1BQ,EAASK,UAAUC,OAAO,sBAC1BT,YAAYI,GAAOP,YAAcF,EAAgB,WACjDM,WAAWG,GAAOI,UAAUC,OAAO,OACnCR,WAAWG,GAAOI,UAAUC,OAAO","file":"userProfile.js","sourcesContent":["/*------------------------------\r\nFollow button related functionality\r\n---------------------------------*/\r\nconst followBtn = document.querySelector('.follow__btn');\r\nconst followersBtn = document.querySelector('.followers__btn');\r\n\r\n\r\nif(followBtn) {\r\n\r\n    followBtn.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n    \r\n        fetch('/follow_action', {\r\n            headers : {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n            method : 'POST',\r\n            body : JSON.stringify( {\r\n                'user_id': Number(this.dataset.userid)\r\n            })\r\n        })\r\n        .then(res => res.json()).then(res =>{\r\n            this.textContent = (res['follow'] ? res['follow'] : res['unfollow']);\r\n            followersBtn.textContent = `${res['followers']} Followers`;\r\n        })\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n/*-----------------------------------\r\n * Heart button related functionality\r\n------------------------------------*/\r\nconst heartBtns = document.querySelectorAll('.heart__btn');\r\nconst totalHearts = document.querySelectorAll('.heart__btn span');\r\nconst heartIcons = document.querySelectorAll('.heart__btn i');\r\n\r\nif (heartBtns) {\r\n    \r\n    heartBtns.forEach((heartBtn, index) => {\r\n        heartBtn.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const postId = Number(heartBtn.dataset.postid);\r\n    \r\n            fetch('/like_action', {\r\n                headers : {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                method : 'POST',\r\n                body : JSON.stringify({\r\n                    'post_id':postId\r\n                })\r\n            })\r\n            .then(res => res.json()).then(res => {\r\n                heartBtn.classList.toggle('heart__btn__active');\r\n                totalHearts[index].textContent = res[\"totalLikes\"];\r\n                heartIcons[index].classList.toggle('far');\r\n                heartIcons[index].classList.toggle('fas');\r\n            })\r\n        })\r\n    })\r\n}"]}