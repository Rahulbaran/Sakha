{"version":3,"sources":["home.js"],"names":["sideNavShowBtns","document","querySelectorAll","sideNavHideBtns","sideNavs","forEach","btn","index","addEventListener","classList","add","remove","heartBtns","totalHearts","heartIcons","heartBtn","e","preventDefault","postId","Number","dataset","postid","fetch","headers","method","body","JSON","stringify","post_id","then","res","json","toggle","textContent"],"mappings":"AAGA,MAAMA,gBAAkBC,SAASC,iBAAiB,mBAC5CC,gBAAkBF,SAASC,iBAAiB,mBAC5CE,SAAWH,SAASC,iBAAiB,8BAE3CF,gBAAgBK,SAAQ,CAACC,EAAKC,KACtBD,EAAIE,iBAAiB,SAAQ,KAC7BJ,SAASG,GAAOE,UAAUC,IAAI,6BAItCP,gBAAgBE,SAAQ,CAACC,EAAKC,KACtBD,EAAIE,iBAAiB,SAAQ,KAC7BJ,SAASG,GAAOE,UAAUE,OAAO,6BASzC,MAAMC,UAAYX,SAASC,iBAAiB,eACtCW,YAAcZ,SAASC,iBAAiB,oBACxCY,WAAab,SAASC,iBAAiB,iBAEzCU,WAEAA,UAAUP,SAAQ,CAACU,EAAUR,KACzBQ,EAASP,iBAAiB,SAASQ,IAC/BA,EAAEC,iBACF,MAAMC,EAASC,OAAOJ,EAASK,QAAQC,QAEvCC,MAAM,eAAgB,CAClBC,QAAU,CACN,eAAe,oBAEnBC,OAAS,OACTC,KAAOC,KAAKC,UAAU,CAClBC,QAAUV,MAGjBW,MAAKC,GAAOA,EAAIC,SAAQF,MAAKC,IAC1Bf,EAASN,UAAUuB,OAAO,sBAC1BnB,YAAYN,GAAO0B,YAAcH,EAAgB,WACjDhB,WAAWP,GAAOE,UAAUuB,OAAO,OACnClB,WAAWP,GAAOE,UAAUuB,OAAO","file":"home.js","sourcesContent":["/*----------------------------------\r\n* Functionality for showing and hiding the post side navigation\r\n-----------------------------------*/\r\nconst sideNavShowBtns = document.querySelectorAll('.sideNavShowBtn');\r\nconst sideNavHideBtns = document.querySelectorAll('.sideNavHideBtn');\r\nconst sideNavs = document.querySelectorAll('.post__related__btn__links');\r\n\r\nsideNavShowBtns.forEach((btn, index) => {\r\n        btn.addEventListener('click',() => {\r\n        sideNavs[index].classList.add('show__post__sidenav');\r\n    });\r\n})\r\n\r\nsideNavHideBtns.forEach((btn, index) => {\r\n        btn.addEventListener('click',() => {\r\n        sideNavs[index].classList.remove('show__post__sidenav');\r\n    });\r\n})\r\n\r\n\r\n\r\n/*********************************\r\n * Heart button related functionality\r\n *******************************/\r\nconst heartBtns = document.querySelectorAll('.heart__btn');\r\nconst totalHearts = document.querySelectorAll('.heart__btn span');\r\nconst heartIcons = document.querySelectorAll('.heart__btn i');\r\n\r\nif (heartBtns) {\r\n    \r\n    heartBtns.forEach((heartBtn, index) => {\r\n        heartBtn.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const postId = Number(heartBtn.dataset.postid);\r\n    \r\n            fetch('/like_action', {\r\n                headers : {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                method : 'POST',\r\n                body : JSON.stringify({\r\n                    'post_id':postId\r\n                })\r\n            })\r\n            .then(res => res.json()).then(res => {\r\n                heartBtn.classList.toggle('heart__btn__active');\r\n                totalHearts[index].textContent = res[\"totalLikes\"];\r\n                heartIcons[index].classList.toggle('far');\r\n                heartIcons[index].classList.toggle('fas');\r\n            })\r\n        })\r\n    })\r\n}\r\n"]}